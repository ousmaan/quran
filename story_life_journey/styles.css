:root {
  --bg: #0f1412;
  --panel: #151c19;
  --panel2: #1b2420;
  --text: #eef3ef;
  --muted: #b9c6bf;
  --border: rgba(255,255,255,0.08);
  --accent: #2f8f4a;
  --accent2: #1f6a36;
  --danger: #c2410c;
  --shadow: 0 8px 24px rgba(0,0,0,0.35);

  --font-en: Inter, system-ui, -apple-system, Segoe UI, sans-serif;
  --font-ur: 'Noto Nastaliq Urdu', serif;
  --font-ar: 'Noto Naskh Arabic', serif;
}

*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:var(--font-en);
  background: radial-gradient(1200px 600px at 20% 10%, rgba(47,143,74,0.18), transparent 55%),
              radial-gradient(900px 500px at 80% 0%, rgba(194,65,12,0.10), transparent 55%),
              var(--bg);
  color:var(--text);
}

.topbar{
  position:sticky;top:0;z-index:50;
  display:flex;justify-content:space-between;align-items:center;
  padding:0.85rem 1rem;
  background: rgba(15,20,18,0.88);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--border);
}

.topbar-left{display:flex;align-items:center;gap:0.8rem}
.back{
  text-decoration:none;color:var(--text);
  background:var(--panel);
  border:1px solid var(--border);
  padding:0.55rem 0.75rem;
  border-radius:12px;
}
.brand-title{font-weight:800;letter-spacing:0.2px}
.brand-sub{color:var(--muted);font-size:0.85rem;margin-top:0.15rem}

.topbar-right{display:flex;align-items:center;gap:0.75rem}
.lang-toggle{display:flex;gap:0.35rem;background:var(--panel);border:1px solid var(--border);padding:0.25rem;border-radius:12px}
.lang-btn{border:none;background:transparent;color:var(--muted);padding:0.5rem 0.7rem;border-radius:10px;font-weight:700;cursor:pointer}
.lang-btn.active{background:linear-gradient(135deg,var(--accent),var(--accent2));color:white}

.nav{display:flex;gap:0.4rem}
.nav-btn{border:1px solid var(--border);background:var(--panel);color:var(--text);padding:0.55rem 0.75rem;border-radius:12px;font-weight:700;cursor:pointer}
.nav-btn:disabled{opacity:0.45;cursor:not-allowed}

.container{max-width:1100px;margin:0 auto;padding:1rem;padding-bottom:3rem}

.stage-header{
  background:linear-gradient(135deg, rgba(47,143,74,0.20), rgba(21,28,25,0.65));
  border:1px solid var(--border);
  border-radius:16px;
  padding:1.1rem;
  box-shadow:var(--shadow);
  margin-bottom:1rem;
}
.stage-title{font-size:1.15rem;font-weight:900}
.stage-sub{color:var(--muted);margin-top:0.35rem;line-height:1.6}

.split{display:grid;grid-template-columns:1fr;gap:0.85rem}
@media (min-width: 900px){
  .split{grid-template-columns:1fr 1fr}
}

.path{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  padding:1rem;
  box-shadow:var(--shadow);
}

/* Subtle visual moral contrast */
.path.good{
  background: linear-gradient(180deg, rgba(47,143,74,0.10), var(--panel));
}
.path.bad{
  background: linear-gradient(180deg, rgba(194,65,12,0.14), var(--panel));
}

.path-header{display:flex;justify-content:space-between;align-items:flex-start;gap:0.75rem;margin-bottom:0.7rem}
.path-title{font-weight:900;font-size:1.05rem}
.path-badge{font-size:0.8rem;padding:0.25rem 0.55rem;border-radius:999px;border:1px solid var(--border);color:var(--muted)}
.path-badge.good{background:rgba(47,143,74,0.15);color:#b7f0c7;border-color:rgba(47,143,74,0.35)}
.path-badge.bad{background:rgba(194,65,12,0.12);color:#ffd2bf;border-color:rgba(194,65,12,0.35)}

.block{margin-top:0.85rem}
.block-title{color:var(--muted);font-weight:800;font-size:0.85rem;letter-spacing:0.06em;text-transform:uppercase;margin-bottom:0.45rem}

.narr{line-height:1.75;color:var(--text)}
.ur{font-family:var(--font-ur);direction:rtl;text-align:right;line-height:2}

.ayah-card{
  background:var(--panel2);
  border:1px solid var(--border);
  border-radius:14px;
  padding:0.9rem;
}

.path.bad .ayah-card{
  border-color: rgba(194,65,12,0.28);
  box-shadow: 0 0 0 1px rgba(194,65,12,0.10) inset;
}
.ayah-ref{color:var(--muted);font-weight:800;margin-bottom:0.5rem}
.ayah-ar{font-family:var(--font-ar);direction:rtl;text-align:right;font-size:1.55rem;line-height:2.3;margin-bottom:0.7rem}
.ayah-tr{color:var(--text);line-height:1.7}

.deepdive{
  margin-top:1rem;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  padding:1rem;
}
.details{border-top:1px solid var(--border);margin-top:0.7rem;padding-top:0.7rem}
.summary-row{display:flex;justify-content:space-between;align-items:center;gap:0.75rem}
.summary-title{font-weight:900}
.summary-btn{border:1px solid var(--border);background:var(--panel2);color:var(--text);padding:0.5rem 0.7rem;border-radius:12px;font-weight:800;cursor:pointer}

.hidden{display:none}
.lang-en{}
.lang-ur{}
